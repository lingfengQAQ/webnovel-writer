---
name: webnovel-writer
description: Knowledge base for writing Chinese webnovels with anti-hallucination protocols (大纲即法律/设定即物理/发明需申报), cool-points strategy, and pacing control (Strand Weave). Automatically loaded when writing webnovel chapters, creating chapter content, or discussing webnovel writing techniques.
allowed-tools:
  - Read
  - Write
  - Edit
  - Grep
  - Bash
  - AskUserQuestion
  - Task
---

# 网文创作知识库

> **角色定位**: 提供网文创作的核心知识和规范，确保创作质量和一致性。
> **自动触发**: 当检测到网文创作相关任务时，这些知识会自动加载到上下文中。

---

## 🎯 核心原则：防幻觉三大定律

### 定律 1: 大纲即法律

**原则**: 不得擅自偏离已确认的大纲内容。

**实施规则**:
- 每章生成前，必须读取并确认章节大纲
- 如果大纲内容不够详细，**主动询问用户补充**，不得自行发挥
- 如需偏离大纲（如临时灵感），必须标记 `[OUTLINE_DEVIATION]` 并说明理由

**违规示例**:
```
大纲: 第 50 章 - 主角参加宗门大比，对战王少
违规: 擅自增加"大比中途秘境开启"的情节
```

**正确做法**:
```
检测到: 当前大纲未提及秘境开启
行动: 询问用户是否需要增加此情节，或严格按大纲执行
```

---

### 定律 2: 设定即物理

**原则**: 角色实力、招式、物品必须严格符合已有设定。

**自动检查清单**:
1. **实力检查**: 主角当前境界 → 可使用的招式范围
2. **地点检查**: 当前位置 → 可出现的角色/物品
3. **时间线检查**: 剧情时间点 → 角色状态的合理性

**违规标记**:
- `[POWER_CONFLICT]`: 战力/招式与设定冲突
- `[LOCATION_ERROR]`: 地点信息错误
- `[TIMELINE_ISSUE]`: 时间线矛盾

**示例**:
```
错误: 主角筑基 3 层，使用金丹期才能掌握的"破空斩"
正确: 检查 state.json，确认主角当前境界，选择对应的招式
```

---

### 定律 3: 发明需申报

**原则**: 所有新创造的角色、地点、物品必须标记并等待批准。

**标记格式**:
```markdown
[NEW_ENTITY: 类型, 名称, 描述]

示例:
[NEW_ENTITY: 角色, 云长老, 天云宗外门长老，筑基期巅峰修为，负责监督新人大比]
[NEW_ENTITY: 地点, 黑风山脉, 天云宗附近的危险区域，栖息着大量妖兽]
[NEW_ENTITY: 物品, 天雷果, 稀有灵果，可帮助练气期修士突破筑基瓶颈]
[NEW_ENTITY: 势力, 血煞门, 邪道宗门，与主角家族有世仇]
[NEW_ENTITY: 功法, 吞噬神功, 主角的金手指功法，可吞噬他人修为]
```

**后处理流程**:
1. Python 脚本自动提取所有 `[NEW_ENTITY]` 标签
2. 询问用户是否加入设定集
3. 用户确认后更新 `state.json` 和设定文档

---

## 📖 爽点设计指南

### 爽点类型与标准流程

| 爽点类型 | 标准流程 | 示例 |
|---------|---------|------|
| **打脸型** | 嘲讽 → 铺垫 → 反转 → 震惊 | 被称"废物" → 隐藏实力 → 一招秒杀 → 全场哗然 |
| **升级型** | 困境 → 顿悟/机缘 → 突破 → 实力展示 | 瓶颈难破 → 得到天雷果 → 突破筑基 → 威压释放 |
| **收获型** | 危机 → 解决 → 奖励/认可 | 击败对手 → 长老赏识 → 获得秘境名额 |
| **扮猪吃虎** | 示弱 → 对手轻敌 → 全力爆发 → 碾压 | 装作受伤 → 敌人大意 → 突然反击 → 秒杀 |
| **装逼打脸** | 对手装逼 → 主角淡定 → 展示实力 → 对手震惊 | 敌人炫耀宝物 → 主角拿出更好的 → 对手羞愧 |

---

### 爽点密度要求

**基本要求**:
- 每章至少 **1 个爽点**
- 每 5 章至少 **1 个大爽点**（打脸+升级+收获组合）
- 每 10 章至少 **1 次实力提升**

**爽点强度分级**:
- **小爽**: 单一爽点（如打脸或升级）
- **中爽**: 双重爽点（打脸+升级）
- **大爽**: 三重爽点（打脸+升级+收获）
- **超爽**: 连续爽点链（一章内多个爽点叠加）

---

### 爽点设计技巧

1. **铺垫充分**: 爽点至少提前 1-2 章埋伏笔
2. **冲突激化**: 矛盾要足够尖锐，才能爽得彻底
3. **反转有力**: 转折要出乎意料但又合情合理
4. **情绪释放**: 读者情绪积累 → 爆发 → 满足

**反面教材**:
- ❌ 突然出现的爽点（没有铺垫）
- ❌ 生硬的打脸（对手智商突然下线）
- ❌ 无意义的升级（没有困难直接突破）

---

## 📊 节奏平衡：Strand Weave（情节线织网）

### 三条情节线

**Quest 线（主线）**: 主角的外部目标和冲突
- 打怪升级、完成任务、击败敌人
- 推动剧情发展的核心线
- 示例：参加宗门大比、探索秘境、复仇

**Fire 线（感情线）**: 主角的情感关系
- 与女主/伙伴的关系发展
- 友情、爱情、师徒情
- 示例：与李雪的暧昧发展、与师父的羁绊

**Constellation 线（世界观线）**: 世界设定的扩展
- 新势力、新地图、新设定的展示
- 丰富世界观，增加深度
- 示例：揭示修仙界格局、展示新的修炼体系

---

### 节奏平衡规则

**警告触发条件**:
- ⚠️ 连续 **5+ 章**走主线（Quest）→ 建议安排感情戏或世界观扩展
- ⚠️ 距上次感情线 > **10 章** → 建议推进感情关系
- ⚠️ 距上次世界观扩展 > **15 章** → 建议展示新势力/地点/设定

**strand_tracker 检查**（从 state.json 读取）:
```json
{
  "strand_tracker": {
    "quest": {"last_chapter": 45, "intensity": 8},
    "fire": {"last_chapter": 38, "intensity": 3},
    "constellation": {"last_chapter": 30, "intensity": 5}
  }
}
```

**节奏调整策略**:
- Quest 连续主导 → 插入感情戏或世界观描写
- Fire 久未出现 → 安排与伙伴/女主的互动
- Constellation 缺失 → 揭示新势力或展示新设定

---

### 情节线织网示例

**理想节奏**（每 10 章）:
```
Ch 1-2: Quest（主线推进）
Ch 3: Fire（感情发展）
Ch 4-5: Quest（继续主线）
Ch 6: Constellation（世界观扩展）
Ch 7-8: Quest（主线高潮）
Ch 9: Fire（感情升温）
Ch 10: Quest + Fire（融合）
```

**避免的反模式**:
- ❌ 连续 10 章纯打怪（节奏单调）
- ❌ 突然插入大段感情戏（破坏节奏）
- ❌ 世界观设定过度堆砌（读者疲劳）

---

## 📝 对话与描写规范

### 对话规范

**符合角色性格**:
- 参考角色卡中的性格描述
- 不同角色有不同的说话风格
- 示例：主角（隐忍冷静）vs 反派（嚣张狂妄）

**修仙题材用语**:
- ✅ 使用："阁下"、"道友"、"在下"
- ❌ 避免现代网络用语："牛逼"、"666"、"OMG"

**反派嘲讽自然化**:
- ❌ 错误："你这个废物，我一根手指就能碾死你！"（过度脸谱化）
- ✅ 正确："林家？呵，早已没落的家族，也敢在此放肆？"（自然且有杀伤力）

---

### 描写技巧

**战斗场景**:
- 动作 + 效果 + 反应
- 示例："一拳轰出，空气炸裂，王少脸色大变，慌忙抵挡"

**突破场景**:
- 氛围 + 身体变化 + 威压释放
- 示例："天地灵气疯狂涌入，主角周身金光闪耀，一股筑基期的威压瞬间扩散"

**情感场景**:
- 内心独白 + 细节刻画
- 示例："看着李雪担忧的眼神，林天心中一暖，这或许就是羁绊吧"

---

## ✅ 写作检查清单

生成章节后，必须自检：

**内容检查**:
- [ ] 是否符合大纲？（定律 1）
- [ ] 爽点是否充足（≥1）？
- [ ] 是否有设定冲突？（定律 2）
- [ ] 是否标记了所有 [NEW_ENTITY]？（定律 3）

**质量检查**:
- [ ] 是否有战力崩坏？（境界 vs 实力匹配）
- [ ] 人物是否 OOC（Out of Character）？
- [ ] 节奏是否拖沓？（检查 strand balance）
- [ ] 字数是否达标（3000-5000）？

**逻辑检查**:
- [ ] 时间线是否一致？
- [ ] 地点转换是否合理？
- [ ] 伏笔是否有效埋设/回收？

---

## 🔍 常见错误与修正

### 错误 1: 战力崩坏

❌ **错误示例**: 主角筑基 3 层，打败金丹期敌人

✅ **修正**: 检查 state.json 中主角实力，合理设定对手境界
- 如果必须越级战斗，需要：
  - 金手指/秘法加持
  - 对手受伤/被削弱
  - 环境优势/陷阱辅助

---

### 错误 2: 爽点缺失

❌ **错误示例**: 整章都是主角赶路，无冲突无爽点

✅ **修正**:
- 赶路途中遭遇事件（强盗/妖兽/奇遇）
- 路上巧遇重要角色（伙伴/敌人/女主）
- 发现隐藏地点/宝物

---

### 错误 3: 擅自发明

❌ **错误示例**: 突然出现"紫霄宗"，但设定集中无此势力

✅ **修正**:
```markdown
[NEW_ENTITY: 势力, 紫霄宗, 与天云宗齐名的大宗门，位于东域]
```
并询问用户是否加入设定集

---

### 错误 4: 人物 OOC

❌ **错误示例**: 主角性格"隐忍冷静"，突然暴怒失控

✅ **修正**:
- 参考角色卡性格
- 如需性格转变，须有合理铺垫（触及底线/重大刺激）
- 标注性格变化的原因

---

## 📚 参考文档（详细指南）

当需要更详细的指导时，可以参考以下文档：

- **[anti-hallucination.md](references/anti-hallucination.md)** - 三大定律详细解释和案例
- **[cool-points-guide.md](references/cool-points-guide.md)** - 爽点设计完整指南，包含各题材爽点库
- **[pacing-control.md](references/pacing-control.md)** - 节奏控制技巧和案例分析
- **[genre-tropes.md](references/genre-tropes.md)** - 修仙/都市/玄幻等题材套路库
- **[strand-weave-pattern.md](references/strand-weave-pattern.md)** - Strand Weave 详细规范

---

## 🎯 质量标准

**每章质量目标**:
- ✅ 字数：3000-5000 字
- ✅ 爽点：至少 1 个
- ✅ 设定一致性：无冲突
- ✅ 战力合理性：无崩坏
- ✅ 人物一致性：不 OOC
- ✅ 节奏流畅性：不拖沓

**长期质量目标**（每 10 章）:
- ✅ 大爽点：至少 1 个
- ✅ 实力提升：至少 1 次
- ✅ Strand 平衡：三线均有推进
- ✅ 伏笔回收：至少 1 个

---

## 📝 总结

作为网文创作知识库，本 Skill 提供：

1. **防幻觉三大定律**：确保内容一致性和逻辑严密
2. **爽点设计指南**：保证读者爽感密集输出
3. **Strand Weave**：维持节奏平衡，避免单调
4. **写作规范**：对话、描写、质量标准

**自动触发场景**:
- 执行 `/webnovel-write` 命令时
- 用户询问"如何写网文"时
- 讨论爽点设计、节奏控制等话题时

**注意**: 本 Skill 仅提供知识和规范，具体的执行步骤（如调用 Python 脚本）由 Command 负责。
